/* =========================================================
   F1 MANAGER 2025 – PRACTICE.CSS (TREINO LIVRE)
   Layout AAA, tela cheia, compatível com practice.js
   + TELEMETRIA AO VIVO (novo painel)
   ========================================================= */

/* RESET BÁSICO */
*,
*::before,
*::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body { width: 100%; height: 100%; }

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background-color: #000000;
  background-image: url("assets/ui/practice_bg.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color: #ffffff;
  overflow: hidden;
}

/* OVERLAY */
.practice-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, rgba(0,0,0,0.55), rgba(0,0,0,0.92) 55%);
  pointer-events: none;
}

.practice-root {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100vh;
  padding: 8px 10px 10px;
}

/* =========================================================
   HEADER
   ========================================================= */
.practice-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 18px;
  background: linear-gradient(145deg, rgba(0,0,0,0.78), rgba(10,10,30,0.78));
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 0 28px rgba(0,0,0,0.85);
}

.practice-header-left {
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}

.practice-header-logo {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(120,120,120,0.55));
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255,255,255,0.16);
}

.practice-header-logo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.practice-header-titleblock { display: flex; flex-direction: column; gap: 2px; min-width: 0; }

.practice-gp-title {
  font-size: 0.95rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.10em;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.practice-track-label {
  font-size: 0.8rem;
  color: #bbbbbb;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.practice-header-right { display: flex; align-items: center; }

.practice-hud-right {
  text-align: right;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.practice-session-label {
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: #8be9ff;
}

.practice-time-remaining { font-size: 1.1rem; font-weight: 800; }

.practice-lap-info {
  display: flex;
  justify-content: flex-end;
  gap: 6px;
  font-size: 0.78rem;
  color: rgba(255,255,255,0.78);
}

/* =========================================================
   BUTTONS
   ========================================================= */
.practice-btn {
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.35);
  color: #fff;
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  cursor: pointer;
  transition: transform .08s ease, filter .12s ease, background .12s ease, border-color .12s ease;
  user-select: none;
}

.practice-btn:hover { filter: brightness(1.05); border-color: rgba(255,255,255,0.20); }
.practice-btn:active { transform: translateY(1px); }

.btn-small-ghost { padding: 7px 12px; font-size: 0.75rem; }
.btn-small-primary {
  padding: 7px 12px;
  font-size: 0.75rem;
  border-color: rgba(0,255,255,0.35);
  background: linear-gradient(145deg, rgba(0,255,255,0.30), rgba(0,120,255,0.22));
}

.speed-btn.active {
  border-color: rgba(255,255,255,0.35);
  background: rgba(255,255,255,0.14);
}

/* =========================================================
   MAIN LAYOUT
   ========================================================= */
.practice-main {
  flex: 1;
  display: flex;
  gap: 10px;
  margin-top: 8px;
  min-height: 0;
}

/* LEFT */
.practice-left {
  flex: 1.6;
  background: radial-gradient(circle at top left, rgba(255,255,255,0.08), rgba(0,0,0,0.95));
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 0 28px rgba(0,0,0,0.85);
  padding: 10px;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.practice-left-hud {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  padding: 2px 2px 8px;
}

.practice-left-title {
  font-size: 0.85rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.85);
  font-weight: 900;
}

.practice-left-sub {
  font-size: 0.75rem;
  color: rgba(255,255,255,0.55);
}

.practice-track-wrapper {
  flex: 1;
  border-radius: 16px;
  background: radial-gradient(circle at 30% 15%, rgba(255,255,255,0.06), rgba(0,0,0,0.92));
  border: 1px solid rgba(255,255,255,0.08);
  overflow: hidden;
  min-height: 0;
}

.practice-track-wrapper svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* RIGHT */
.practice-right {
  flex: 1.25;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 0;
}

.practice-hud-panel {
  flex: 1;
  border-radius: 18px;
  background: linear-gradient(145deg, rgba(9,9,20,0.98), rgba(14,14,40,0.98));
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 0 28px rgba(0,0,0,0.95);
  padding: 10px 10px 8px;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.practice-hud-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 2px 2px 8px;
}

.practice-panel-title {
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.86rem;
}

.practice-panel-subtitle {
  margin-top: 2px;
  font-size: 0.76rem;
  color: rgba(255,255,255,0.65);
}

.practice-hud-time { font-weight: 900; font-size: 1.05rem; }
.practice-hud-live {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.12);
  margin-bottom: 6px;
}

.practice-session-box {
  border-radius: 16px;
  background: radial-gradient(circle at 30% 10%, rgba(255,255,255,0.05), rgba(0,0,0,0.78));
  border: 1px solid rgba(255,255,255,0.08);
  padding: 10px 10px 8px;
  min-height: 120px;
}

.practice-session-topline {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
  padding-bottom: 8px;
}

.practice-session-small { font-size: 0.75rem; color: rgba(255,255,255,0.65); }
.practice-session-best  { font-size: 0.78rem; font-weight: 900; letter-spacing: 0.08em; }

.practice-session-list {
  max-height: 120px;
  overflow: auto;
  padding-right: 6px;
}

.practice-session-list::-webkit-scrollbar { width: 8px; }
.practice-session-list::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.10);
  border-radius: 999px;
}

.practice-driver-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 4px 6px;
  border-radius: 10px;
  margin-bottom: 3px;
  background: linear-gradient(90deg, rgba(0,0,0,0.80), rgba(10,10,30,0.80));
  border: 1px solid rgba(255,255,255,0.04);
}

.practice-driver-left { display: flex; align-items: center; gap: 8px; min-width: 0; }
.practice-driver-pos { font-weight: 900; font-size: 0.78rem; width: 22px; opacity: .9; }
.practice-driver-face {
  width: 30px; height: 30px; border-radius: 999px;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,0.18);
}
.practice-driver-text { display: flex; flex-direction: column; gap: 2px; min-width: 0; }
.practice-driver-name { font-size: 0.78rem; font-weight: 900; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.practice-driver-team { font-size: 0.72rem; opacity: 0.65; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.practice-driver-right { display: flex; align-items: center; gap: 8px; }
.practice-driver-stats { font-family: ui-monospace, Menlo, Consolas, monospace; font-size: 0.78rem; opacity: .95; }

/* =========================================================
   USER PANEL
   ========================================================= */
.practice-user-panel {
  margin-top: 8px;
  border-radius: 16px;
  background: radial-gradient(circle at 30% 10%, rgba(255,255,255,0.05), rgba(0,0,0,0.72));
  border: 1px solid rgba(255,255,255,0.08);
  padding: 10px;
}

.practice-user-panel-title {
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.78rem;
  opacity: 0.9;
  margin-bottom: 8px;
}

.practice-user-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.practice-user-card {
  border-radius: 14px;
  background: linear-gradient(145deg, rgba(0,0,0,0.75), rgba(20,20,50,0.75));
  border: 1px solid rgba(255,255,255,0.08);
  padding: 10px;
  display: grid;
  grid-template-columns: 46px 1fr;
  gap: 10px;
  align-items: center;
}

.practice-user-face {
  width: 46px;
  height: 46px;
  border-radius: 999px;
  object-fit: cover;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
}

.practice-user-main { min-width: 0; }
.practice-user-name { font-weight: 900; font-size: 0.84rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.practice-user-team { font-size: 0.74rem; opacity: 0.65; margin-top: 2px; }
.practice-user-status-line { font-size: 0.72rem; opacity: 0.85; margin-top: 6px; line-height: 1.25; }

.practice-user-actions {
  grid-column: 1 / -1;
  display: flex;
  gap: 8px;
  justify-content: space-between;
  margin-top: 8px;
  flex-wrap: wrap;
}

.practice-controls-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-top: 10px;
}

.practice-controls-left, .practice-controls-right {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

.practice-controls-label {
  font-size: 0.72rem;
  opacity: 0.7;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

/* =========================================================
   TELEMETRIA (NOVO) — mantém a identidade visual atual
   ========================================================= */
.practice-telemetry {
  margin-top: 8px;
  border-radius: 16px;
  background: radial-gradient(circle at 30% 10%, rgba(255,255,255,0.06), rgba(0,0,0,0.78));
  border: 1px solid rgba(255,255,255,0.08);
  padding: 10px;
}

.practice-telemetry-header {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  margin-bottom: 10px;
}

.practice-telemetry-title {
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.78rem;
  opacity: 0.95;
}

.practice-telemetry-sub {
  font-size: 0.72rem;
  opacity: 0.75;
}

.practice-telemetry-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
}

.tel-card {
  border-radius: 14px;
  background: linear-gradient(145deg, rgba(0,0,0,0.68), rgba(18,18,48,0.68));
  border: 1px solid rgba(255,255,255,0.08);
  padding: 10px;
  min-width: 0;
}

.tel-label {
  font-size: 0.72rem;
  opacity: 0.7;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  margin-bottom: 6px;
}

.tel-value {
  font-weight: 900;
  font-size: 1.05rem;
  letter-spacing: 0.06em;
  display: flex;
  align-items: baseline;
  gap: 6px;
  margin-bottom: 8px;
}

.tel-unit { font-size: 0.72rem; opacity: 0.65; }

.tel-bar {
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.06);
  overflow: hidden;
}

.tel-bar-fill {
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(0,255,255,0.75), rgba(0,120,255,0.65));
  transition: width 120ms linear;
}

.tel-mini {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  margin-top: 8px;
  font-size: 0.72rem;
  opacity: 0.85;
}

.tel-mini span { opacity: 0.65; }
.tel-mini b {
  font-family: ui-monospace, Menlo, Consolas, monospace;
  font-weight: 900;
  letter-spacing: 0.04em;
}

.practice-telemetry-bottom {
  margin-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.06);
  padding-top: 10px;
}

.tel-sectors {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-bottom: 10px;
}

.tel-sector {
  border-radius: 12px;
  background: rgba(0,0,0,0.50);
  border: 1px solid rgba(255,255,255,0.06);
  padding: 8px 10px;
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

.tel-sector span {
  font-size: 0.72rem;
  opacity: 0.70;
  text-transform: uppercase;
  letter-spacing: 0.10em;
}

.tel-sector b {
  font-family: ui-monospace, Menlo, Consolas, monospace;
  font-weight: 900;
  letter-spacing: 0.06em;
}

#telemetrySpark {
  width: 100%;
  height: 88px;
  display: block;
  border-radius: 12px;
  background: rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.06);
}

/* RESPONSIVO */
@media (max-width: 1100px) {
  .practice-main { flex-direction: column; }
  .practice-left { flex: 1; }
  .practice-right { flex: 1; }
  .practice-user-row { grid-template-columns: 1fr; }
  .practice-telemetry-grid { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 680px) {
  .practice-telemetry-grid { grid-template-columns: 1fr; }
  .tel-sectors { grid-template-columns: 1fr 1fr; }
}
