<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>F1 Manager 2025 – Corrida</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <!-- CSS GLOBAL -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="ui.css" />
  <link rel="stylesheet" href="ui-screens.css" />
  <link rel="stylesheet" href="race.css" />

</head>
<body>

  <!-- =========================
       HEADER
  ========================== -->
  <header class="race-header">
    <div class="race-info">
      <img id="gp-flag" class="gp-flag" src="" alt="Bandeira GP" />
      <div>
        <h1 id="gp-name">GP</h1>
        <p id="gp-meta">Volta 1 · Clima · Pista</p>
      </div>
    </div>

    <div class="race-controls">
      <div class="speed-controls">
        <button data-speed="1">1x</button>
        <button data-speed="2">2x</button>
        <button data-speed="4">4x</button>
      </div>
      <button id="btn-back-lobby" class="btn-back">VOLTAR AO LOBBY</button>
    </div>
  </header>

  <!-- =========================
       CONTEÚDO PRINCIPAL
  ========================== -->
  <main class="race-main">

    <!-- MAPA -->
    <section class="track-panel">
      <h2>MAPA DA PISTA</h2>

      <!-- SVG É CARREGADO AQUI -->
      <div id="track-container"></div>

      <div class="track-status">
        <div><strong>Volta</strong> <span id="lap-info">1/10</span></div>
        <div><strong>Estado</strong> <span id="race-state">Correndo</span></div>
        <div><strong>Clima</strong> <span id="weather-info">Seco</span></div>
        <div><strong>Pista</strong> <span id="track-temp">21°C</span></div>
      </div>
    </section>

    <!-- SESSÃO -->
    <section class="session-panel">
      <h2>SESSÃO</h2>
      <div id="session-list"></div>
    </section>

    <!-- PILOTOS DO JOGADOR -->
    <section class="drivers-panel">
      <h2>SEUS PILOTOS</h2>
      <div id="player-drivers"></div>
    </section>

  </main>

  <!-- =========================
       OVERLAY DE RESULTADOS
  ========================== -->
  <div id="results-overlay" class="hidden"></div>

  <!-- =========================
       SISTEMAS (ORDEM É CRÍTICA)
  ========================== -->

  <!-- BASE -->
  <script src="data.js"></script>
  <script src="saveSystem.js"></script>

  <!-- SISTEMAS -->
  <script src="setupSystem.js"></script>
  <script src="staffSystem.js"></script>
  <script src="tyreSystem.js"></script>
  <script src="pitStopSystem.js"></script>

  <!-- CORRIDA (ÚNICA FONTE DE VERDADE) -->
  <script src="raceSystem.js"></script>
  <script src="raceRenderer.js"></script>
  <script src="raceUI.js"></script>
  <script src="resultsSystem.js"></script>

  <!-- BOOT -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      RaceSystem.init();
    });
  </script>

</body>
</html>
